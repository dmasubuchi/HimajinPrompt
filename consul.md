## ひまじん式BPMN - 構造化ヒアリング設計

### 1. 初期スコープ定義（3要素確定）

```markdown
プロセスの境界を定義します。

【開始点】何を受け取った時点から始まりますか
【終了点】何が完了した時点で終わりますか  
【主管部門】このプロセスの責任部門はどこですか

例：
開始点：注文書受領
終了点：出荷完了
主管部門：営業部
```

### 2. アクター識別（RACI準拠）

```markdown
関与者を特定します。

【実行者（R）】実際に作業を行う部門・役職
【説明責任者（A）】最終責任を負う部門・役職
【協議先（C）】意見を求める部門・役職
【通知先（I）】情報共有する部門・役職

最低限、実行者（R）のみ必須です。
```

### 3. 基本フロー構築

```markdown
主要なアクティビティを時系列で配置します。

【アクティビティ】実行者と動作を明記してください
形式：[実行者]が[対象]を[動作]

例：
1. 営業部が注文書を登録
2. 倉庫が在庫を確認
3. 倉庫が商品を出荷
```

### 4. 分岐条件の明確化

```markdown
判定が必要な箇所を特定します。

【分岐点】どこで判定が発生しますか
【条件】何を基準に判定しますか
【分岐先】各条件でどこへ進みますか

例：
分岐点：在庫確認後
条件：在庫数量 >= 注文数量
YES→出荷処理
NO→発注処理
```

### 5. 例外・エラー処理

```markdown
通常フローから外れるケースを確認します。

【発生箇所】どのアクティビティで発生可能ですか
【例外種別】どのような例外ですか
【対処】どう処理しますか

必須ではありません。不明な場合は省略可能です。
```

### テレビ業界編成部向け対話例

```markdown
## 第1段階：スコープ定義

予算承認プロセスの境界を定義します。

【開始点】何を受け取った時点から始まりますか
【終了点】何が完了した時点で終わりますか
【主管部門】このプロセスの責任部門はどこですか

---
回答例：
開始点：制作部から企画書提出
終了点：予算執行承認通知
主管部門：編成部

## 第2段階：アクター配置

関与部門を確認します。

現在の認識：
- 編成部（主管）
- 制作部（起案）

他に関与する部門はありますか。
ある場合は部門名のみ列挙してください。

---
回答例：営業部、経理部、役員会

## 第3段階：基本フロー

各部門の作業を時系列で記述してください。
形式：[部門]が[対象]を[動作]

---
回答例：
1. 制作部が企画書を提出
2. 編成部が企画を査定
3. 営業部がスポンサーを確認
4. 役員会が予算を承認

## 第4段階：判定点

判定が必要な箇所はありますか。
ある場合、以下を明記してください：

【判定箇所】どこで判定しますか
【判定条件】何を基準にしますか
【分岐先】どう分かれますか

---
回答例：
判定箇所：編成部の査定
判定条件：予算規模と想定視聴率
承認→営業部へ
差戻し→制作部へ

## 第5段階：JSON生成確認

以下の構造でJSON生成します。問題なければ「生成」と回答してください。

アクター：制作部、編成部、営業部、役員会
フロー：企画提出→査定→スポンサー確認→承認
分岐：査定（承認/差戻し）
```

### JSON構造（最小限）

```json
{
  "process": {
    "name": "予算承認",
    "start": "企画書提出",
    "end": "予算執行承認",
    "owner": "編成部"
  },
  "actors": [
    {"id": "A1", "name": "制作部", "type": "requester"},
    {"id": "A2", "name": "編成部", "type": "owner"},
    {"id": "A3", "name": "営業部", "type": "consulted"},
    {"id": "A4", "name": "役員会", "type": "approver"}
  ],
  "activities": [
    {"id": "T1", "name": "企画書提出", "actor": "A1"},
    {"id": "T2", "name": "企画査定", "actor": "A2"},
    {"id": "T3", "name": "スポンサー確認", "actor": "A3"},
    {"id": "T4", "name": "予算承認", "actor": "A4"}
  ],
  "gateways": [
    {
      "id": "G1",
      "name": "査定結果",
      "type": "exclusive",
      "after": "T2",
      "routes": [
        {"condition": "承認", "to": "T3"},
        {"condition": "差戻し", "to": "T1"}
      ]
    }
  ]
}
```

### 補足情報収集（必要時のみ）

```markdown
以下は必須ではありません。
把握している範囲で回答してください。

【所要時間】各ステップの標準処理時間
【使用システム】各ステップで使用するシステム名
【必要書類】各ステップで必要な書類・帳票
【頻度】このプロセスの実行頻度
【ボリューム】月間/年間の処理件数

不明な項目は回答不要です。
```
